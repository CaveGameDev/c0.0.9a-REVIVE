<!DOCTYPE html>
<html>
<head>
    <title>Minecraft 0.0.9a Applet</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; }
        #applet_container {
            width: 854px; /* Match your desired width */
            height: 480px; /* Match your desired height */
            margin: auto;
            display: block; /* Centers the applet */
        }
    </style>
    </head>
<body>

    <div id="applet_container">
        <applet code="com.mojang.minecraft.MinecraftApplet"
                archive="client/minecraft.jar, client/lwjgl.jar, client/jinput.jar, client/res.jar, client/windows_natives.jar"
                width="854" height="480" id="MinecraftApplet">

            <param name="separate_jvm" value="true">

            <param name="java_arguments" value="-Xmx512M -Xms256M">
            <param name="java.library.path" value="client/natives">
            <param name="java.security.policy" value="client/game.policy">
            <param name="sun.java2d.nodraw" value="true">
            <param name="sun.awt.noerasebackground" value="true">
            <param name="sun.java2d.d3d" value="false">
            <param name="sun.java2d.opengl" value="false">

            <param name="cheerpj.debug" value="true">
            <param name="cheerpj.java_home" value="./client"> 
            <param name="cheerpj.heap_size" value="512M">
            <param name="cheerpj.library_path" value="client/natives"> 
            <param name="cheerpj.policy_file" value="client/game.policy">
            <param name="cheerpj.wasmModules" value="client/gl4es.wasm">

            <param name="cheerpj.mountFS" value="{ '/': 'idbfs' }">
            <param name="cheerpj.console" value="log">
            <param name="cheerpj.enableDownloadCallback" value="true">

            <param name="gameDir" value="./client">
            <param name="assetsDir" value="./client/assets">
            <param name="username" value="Player">
            <param name="session" value="0">

            Your browser does not support Java applets.
        </applet>
    </div>

    <script>
        // Optional: Listen for CheerpJ's loading progress (the extension might still trigger this)
        if (window.cheerpj) {
            cheerpj.enableDownloadCallback(function(url, loaded, total) {
                const progress = total ? Math.round((loaded / total) * 100) : 0;
                console.log(`Loading ${url}: ${progress}% (${loaded}/${total})`);
                // You could update a progress bar here
            });
        }
    </script>

</body>
</html>
